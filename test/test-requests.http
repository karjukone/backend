# api http test requests for VSCode rest client

### get cats
GET http://localhost:3000/api/v1/cats

### get cat by id
GET http://localhost:3000/api/v1/cats/41



### post new cat
POST http://localhost:3000/api/v1/cats
Content-Type: application/json

{
  "cat_name": "New Cat",
  "weight": 5,
  "owner": 3333,
  "filename": "kuva.jpg",
  "birthdate": "2022-01-01"
}

### post new cat with image
POST http://127.0.0.1:3000/api/v1/cats HTTP/1.1
Content-Type: multipart/form-data; boundary=MyBoundary

--MyBoundary
Content-Disposition: form-data; name="cat_name"

Kisuliini
--MyBoundary
Content-Disposition: form-data; name="weight"

10
--MyBoundary
Content-Disposition: form-data; name="owner"

40
--MyBoundary
Content-Disposition: form-data; name="birthdate"

2021-01-07
--MyBoundary
Content-Disposition: form-data; name="file"; filename="kuva.jpg"
Content-Type: image/jpeg

./kuva.jpg
--MyBoundary--


### Modify existing cat
PUT http://127.0.0.1:3000/api/v1/cats/44
Content-Type: application/json

{
  "cat_name": "Frank da CAT",
  "weight": 11,
  "owner": 3609,
  "filename": "f3dbafakjsdfhg4",
  "birthdate": "2021-10-12"
}

### Delete cat by id
DELETE http://127.0.0.1:3000/api/v1/cats/43





# Testing the user routes

### Post login
POST http://localhost:3000/api/v1/auth
Content-Type: application/json

{
  "username": "saku5",
  "password": "kissa123"
}

###

@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0MywibmFtZSI6InNha3UiLCJ1c2VybmFtZSI6InNha3U1IiwiZW1haWwiOiJzYWt1QG1ldHJvcG9saWEuZmkiLCJyb2xlIjoidXNlciIsImlhdCI6MTc2NDYwODMwMywiZXhwIjoxNzY0Njk0NzAzfQ.H2i2cInzoeXmJPkrarweHMCMSh_q5glq920eX4Ri_VA

### Get my user info
GET http://localhost:3000/api/v1/auth/me
Authorization: Bearer {{token}}

### get user
GET http://localhost:3000/api/v1/users

### get user by id
GET http://localhost:3000/api/v1/users/42

### post new user
POST http://localhost:3000/api/v1/users
Content-Type: application/json

{
    "name": "saku",
    "username": "saku5",
    "email": "saku@metropolia.fi",
    "role": "user",
    "password": "kissa123"
}

### log in user

POST http://127.0.0.1:3000/api/v1/auth/login
Content-Type: application/json

{
    "username": "onkohash",
    "password": "password"
}

### Modify existing user
PUT http://127.0.0.1:3000/api/v1/users/42
Content-Type: application/json

{
    "name": "Ulla S",
    "username": "ullapulla",
    "email": "ullas@metropolia.fi",
    "role": "admin",
    "password": "password"
}

### Delete cat by user
DELETE http://127.0.0.1:3000/api/v1/users/38